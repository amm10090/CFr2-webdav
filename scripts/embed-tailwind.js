import fs from 'node:fs';
import path from 'node:path';

const cssPath = path.resolve('src/styles/tailwind.generated.css');
if (!fs.existsSync(cssPath)) {
	console.error('Missing tailwind.generated.css, run `npm run build:css` first');
	process.exit(1);
}
const css = fs.readFileSync(cssPath, 'utf8').replace(/`/g, '\\`').replace(/\\/g, '\\\\');
const out = `// Auto-generated by scripts/embed-tailwind.js\nexport const TAILWIND_CSS = \`${css}\`;\n`;
fs.writeFileSync(path.resolve('src/utils/tailwindInline.ts'), out, 'utf8');
console.log('Embedded tailwind CSS into src/utils/tailwindInline.ts');
